<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>Restaurant Menu</title>
  <link rel="stylesheet" href="style.css">

  <!-- Supabase JS v2 -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      background: #111;
      color: #fff;
      padding: 20px;
    }

    h1 {
      text-align: center;
    }

    .item {
      border-bottom: 1px solid #333;
      padding: 15px 0;
    }

    img {
      max-width: 150px;
      border-radius: 8px;
      display: block;
      margin-top: 8px;
    }
  </style>
</head>
<body>

  <h1>ðŸ“‹ Menu</h1>
  <div id="menu"></div>

  <script>
  // ðŸ”‘ Supabase credentials
  const SUPABASE_URL = "https://znloborouipckokqpidu.supabase.co";
  const SUPABASE_KEY = "sb_publishable_1sLCk0nZR20iQCyvRqfoxg_uI6Mun2c"; // Ù…ÙØªØ§Ø­Ùƒ Ø§Ù„Ø­Ø§Ù„ÙŠ

  const { createClient } = supabase;
  const supabaseClient = createClient(SUPABASE_URL, SUPABASE_KEY);

  const LANG = "ar"; // ØºÙŠÙ‘Ø±Ù‡Ø§ Ø¥Ù„Ù‰ "en" Ù„Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ

  async function loadMenu() {
    const { data, error } = await supabaseClient
      .from("menu_items")
      .select("name_ar, name_en, price, image_url");

    if (error) {
      console.error("Supabase error:", error);
      return;
    }

    const menuDiv = document.getElementById("menu");
    menuDiv.innerHTML = "";

    data.forEach(item => {
      const name = LANG === "ar" ? item.name_ar : item.name_en;
const phone = "96178727986"; // Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ù…Ø·Ø¹Ù…

data.forEach(item => {
  const name =
    currentLang === "ar"
      ? item["name-ar"]
      : item["name-en"];

  menuDiv.innerHTML += `
    <div class="item">
      ${item.image_url ? `<img src="${item.image_url}">` : ""}
      
      <strong>${name}</strong>
      
      <div class="price">
        ${currentLang === "ar" ? "Ø§Ù„Ø³Ø¹Ø±" : "Price"}: $${item.price}
      </div>

      <a
        class="order-btn"
        target="_blank"
        href="https://wa.me/${phone}?text=${encodeURIComponent(
          `Ù…Ø±Ø­Ø¨Ø§ØŒ Ø£Ø±ÙŠØ¯ Ø·Ù„Ø¨:\n${name}\nØ§Ù„Ø³Ø¹Ø±: ${item.price}$`
        )}"
      >
        ${currentLang === "ar" ? "Ø§Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨" : "Order via WhatsApp"}
      </a>
    </div>
  `;
});

      menuDiv.innerHTML += `
        <div class="item">
          <strong>${name}</strong><br>
          ${LANG === "ar" ? "Ø§Ù„Ø³Ø¹Ø±" : "Price"}: $${item.price}<br>
          ${item.image_url ? `<img src="${item.image_url}" />` : ""}
        </div>
      `;
    });
  }

  loadMenu();
</script>


</body>
</html>
